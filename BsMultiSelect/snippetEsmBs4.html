<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
        <title>DashboardCode Multiselect Plugin for Bootstrap 4</title>
    </head>
    <body class="bg-light">
        <a href="https://github.com/DashboardCode/BsMultiSelect"><img width="149" height="149" 
            src="https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149" 
             alt="Fork me on GitHub" data-recalc-dims="1"
             style="position: relative; float:right"></a>
         
         
        <div class="container">
            <div class="pt-4">
		        <button id="btnAttach" class="btn btn-primary">Attach</button>
		        <button id="btnDispose" class="btn btn-warning">Dispose</button>
            </div>
            <br/>
            <div class="form-group row">
                <label class="col-form-label col-sm-2" for="languages-id">Languages:</label>
                <div class="col-sm-10">
                    <select name="States1" id="languages-id" class="form-control"  multiple="multiple">
                        <option value="AR" >Arabic</option>
                        <option value="EN" disabled selected>English</option>
                        <option value="CH">Chinese</option>
                        <option value="FR" dsiabled>French</option>
                        <option value="DE">German</option>
                        <option value="ID">Indonesian</option>                            
                        <option value="MS">Malay</option>
                        <option value="LT" hidden>Lithuanian</option>                            
                        <option value="PT">Portuguese</option>
                        <option value="RU" selected>Russian</option>
                        <option value="ES">Spanish</option>
                    </select>
                </div>
            </div>
            <p class="mt-5"><b>Modern browsers only.</b> The BsMultiSelect doesn't require jQuery. Still
                if you use jQuery you would like that BsMultiSelect continue to publish its events ('change' and 'dashboardcode.multiselect:change') through jQuery, using jQuery `trigger`, see
                in comments how to setup it.</p>
            <pre class="prettyprint lang-html linenums:1">
// attach and dispose BsMultiSelect on buttons #btnAttach and #btnDispose clicks
&lt;script type="module"&gt;
    import Popper from "https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/esm/popper.min.js"
    import {ModuleFactory as dashboardCodeFactory} from "https://cdn.jsdelivr.net/npm/@dashboardcode/bsmultiselect@1.1.14/dist/js/BsMultiSelect.bs4.esm.min.js"
    var languagesElement = document.querySelector('#languages-id');
    var bsMultiSelect = null;

    document.querySelector('#btnAttach').onclick = function(){
       if (!bsMultiSelect){
          var environment = {window, Popper};
          // add this if you want to trigger events through JQuery events 
          // environment.trigger = (element,eventName) => $(element).trigger(eventName); 
          let dashboardCode = dashboardCodeFactory(environment);
          bsMultiSelect = dashboardCode.BsMultiSelect(languagesElement,  {placeholder: "placeholder"}); 
          // dashboardCode.BsMultiSelect.Default - access to default BsMultiSelect settings
       }
    };

    document.querySelector('#btnDispose').onclick = function() {
        if (bsMultiSelect){
            bsMultiSelect.dispose();
            bsMultiSelect= null;
        }  
    };
 &lt;/script&gt;</pre>
        </div>
        
        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

        <script type="module">
            import Popper from "https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/esm/popper.min.js"
            import {ModuleFactory as dashboardCodeFactory, BsMultiSelect /*derpicated*/} from "https://cdn.jsdelivr.net/npm/@dashboardcode/bsmultiselect@1.1.14/dist/js/BsMultiSelect.bs4.esm.min.js"
            //import {ModuleFactory as dashboardCodeFactory, BsMultiSelect /*derpicated*/} from "http://127.0.0.1:5500/dist/js/BsMultiSelect.esm.js"
            var languagesElement = document.querySelector('#languages-id');
            var bsMultiSelect = null;
            document.querySelector('#btnAttach').onclick = function(){
                if (!bsMultiSelect){
                    var environment = {window, Popper};
                    let dashboardCode = dashboardCodeFactory(environment);
                    bsMultiSelect = dashboardCode.BsMultiSelect(languagesElement,  {placeholder: "placeholder"}); 
                    //bsMultiSelect = BsMultiSelect(languagesElement, environment, {placeholder: "placeholder"}); // depricated
                }
            };

            document.querySelector('#btnDispose').onclick =
                function() {
                    if (bsMultiSelect){
                        bsMultiSelect.dispose();
                        bsMultiSelect= null;
                    }  
                };
        </script>
    </body>
</html>