<!doctype html>
<html >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.rtl.min.css">

        <style>
            /* patch the BS4 .was-validated problem - there are no way to exclude BS4 styling for concreate `.was-validated :valid` or `.was-validated :invalid` control */
            .was-validated .dashboardcode-bsmultiselect > div.dropdown-menu > ul > li .form-check-input:valid:checked {
                border-color: var(--bs-primary);
                background-color: var(--bs-primary);
            }
            .was-validated .dashboardcode-bsmultiselect > div.dropdown-menu > ul > li .form-check-input:valid:not(:checked) {
                border-color: #adb5bd;
            } 
        </style>
        <style>
            input:invalid{outline: 0;}  /*correct Edge browser "unwanted" red squre; TODO: why Boostrap team didn't add it? */
        </style>
        <title>DashboardCode Multiselect Plugin for Bootstrap 4</title>
    </head>
    <body class="bg-light" >
        <a href="https://github.com/DashboardCode/BsMultiSelect"><img width="149" height="149" 
            src="https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149" 
            alt="Fork me on GitHub" data-recalc-dims="1"
            style="position: relative; float:right"></a>

        <div class="container"  >
            <div class="py-5 text-center">
                <h2>BsMultiselect</h2>
                <p class="lead">Multiselect JQuery Plugin for Bootstrap 4</p>
                <p class="code">dashboardcode.BsMultiSelect("#myElement");<br>$("#myElement").bsMultiSelect(); // jquery</p>
            </div>

            <div class="form-inline">
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="toggle-wasvalidated-id">
                    <label class="custom-control-label" for="toggle-wasvalidated-id">Set <code class="mx-2"> .was-validated</code> to form</label>
                </div>

                
            </div>
            
            <br/>
            
            <p><b>Right-to-left bootstrap multiselect demo (campare with plain input):</b></p>
            <form action="https://postman-echo.com/post" method="post" dir="rtl">
                <div class="row mb-3" lang="fa">
                    <label class="col-form-label col-sm-2" for="select-persian-id">شاعران پارسی</label>
                    <div class="col-sm-10">
                        <select name="Persians" 
                            data-placeholder="متن نمونه" data-value-missing-message="ضروری"
                            id="select-persian-id" class="form-control" multiple="multiple" required>
                            <option value="P0" >فردوسی</option>
                            <option value="P1" >نظامی گنجوی</option>
                            <option value="P2" >ابو عبد الله رودکی</option>
                            <option value="P3" >عُمَر خَیّام نیشابوری</option>
                            <option value="P4" >نظامی گنجوی</option>
                            <option value="P5" >خواجه شمس‌الدین محمد حافظ شیرازی</option>
                            <option value="P6" >ابومحمد مُصلِح‌الدین بن عَبدُالله سعدی شیرازی</option>
                        </select>
                        <div class="valid-feedback">درست</div>
                        <div class="invalid-feedback">ضروری</div>
                    </div>
                </div>
        
                <div class="row mb-3">
                    <label class="col-form-label col-sm-2" for="sample-id">زبان فارسی</label>
                    <div class="col-sm-10">
                        <input  type="text" class="form-control" id="sample-id"  placeholder="متن نمونه"  required>
                        <div class="valid-feedback">درست</div>
                        <div class="invalid-feedback">ضروری</div>
                    </div>
                </div>
            <br/>
            <p dir="ltr"><b>BS Floating label:</b></p>
            <div class="row"  dir="rtl">
                <div class=" col-sm-10 offset-sm-2">
                <div class="form-floating" >
                    <label for="select-floating-id">شاعران پارسی</label>
                    <select name="Persians" 
                        data-value-missing-message="ضروری"
                        id="select-floating-id" class="form-control" multiple="multiple" required>
                        <option value="P0" >فردوسی</option>
                        <option value="P1" >نظامی گنجوی</option>
                        <option value="P2" >ابو عبد الله رودکی</option>
                        <option value="P3" >عُمَر خَیّام نیشابوری</option>
                        <option value="P4" >نظامی گنجوی</option>
                        <option value="P5" >خواجه شمس‌الدین محمد حافظ شیرازی</option>
                        <option value="P6" >ابومحمد مُصلِح‌الدین بن عَبدُالله سعدی شیرازی</option>
                    </select>
                    <div class="valid-feedback">درست</div>
                    <div class="invalid-feedback">ضروری</div>
                </div>
                </div>
            </div>
            <br/>
            <!-- <div class="row" dir="rtl">
                <div class="col-sm-10  offset-sm-2" >
                    <div class="form-floating">
                        <label for="sample2-id">زبان فارسی</label>
                        <input  type="text" class="form-control" id="sample2-id"    required>
                        <div class="valid-feedback">درست</div>
                        <div class="invalid-feedback">ضروری</div>
                    </div>
                </div>
            </div> -->
            <input type="submit" class="btn btn-primary" action="https://postman-echo.com/post" method="post">
        </form>
            <hr/>
            <p><b>Steps:</b></p>
            <p><b>(1)</b> Add dir="rtl" into DOM chierarchy, on any ancestor, e.g.:</p>
            <pre class="prettyprint lang-html linenums:1" style="border-color: #CCCCCC">
&lt;form dir="rtl"&gt;...&lt;/form&gt;</pre>

<p><b>(2)</b> Patch the BS4 .was-validated problem - there are no way to exclude BS4/BS5 styling for concreate `.was-validated :valid` or `.was-validated :invalid` control:</p>
    <pre class="prettyprint lang-html linenums:1" style="border-color: #CCCCCC">
&lt;style&gt;
    .was-validated .dashboardcode-bsmultiselect .form-check-input:valid:checked {
        border-color: var(--bs-primary);
        background-color: var(--bs-primary);
    }
    .was-validated .dashboardcode-bsmultiselect .form-check-input:valid:not(:checked) {
        border-color: #adb5bd;
    } 
&lt;/style&gt;
</pre>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

<!--  <script src="https://rawgit.com/DashboardCode/BsMultiSelect/master/dist/js/BsMultiSelect.min.js"></script> -->
<script src="./../../BsMultiSelect/dist/js/BsMultiSelect.js"></script>
        
        <script>
            // $.fn.bsMultiSelect.defaults.isRtl = true; // alternative to dir="rtl" attribute
            $('#select-persian-id').bsMultiSelect();
            $('#select-floating-id').bsMultiSelect({

            });
            
            $('#toggle-wasvalidated-id').change(function() {
                $('form').toggleClass('was-validated')
                $('#select-persian-id').bsMultiSelect('UpdateWasValidated');
                $('#select-floating-id').bsMultiSelect('UpdateWasValidated');
            });
        </script>
    </body>
</html>