<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <title>DashboardCode Multiselect Plugin for Bootstrap 4</title>
    </head>
    <body class="bg-light">
        <div class="container">

            <div class="mt-4">
		        <button id="btnAttach" class="btn btn-primary">Attach</button>
		        <button id="btnDispose" class="btn btn-warning">Dispose</button>
            </div>
            <br/>
            <div class="form-group row">
                <label class="col-form-label col-sm-2" for="languages-id">Languages:</label>
                <div class="col-sm-10">
                    <select name="States1" id="languages-id" class="form-control"  multiple="multiple">
                        <option value="AR" >Arabic</option>
                        <option value="EN" disabled selected>English</option>
                        <option value="CH">Chinese</option>
                        <option value="FR" dsiabled>French</option>
                        <option value="DE">German</option>
                        <option value="ID">Indonesian</option>                            
                        <option value="MS">Malay</option>
                        <option value="LT" hidden>Lithuanian</option>                            
                        <option value="PT">Portuguese</option>
                        <option value="RU" selected>Russian</option>
                        <option value="ES">Spanish</option>
                    </select>
                </div>
            </div>
            <p class="mt-5"><b>Modern browsers only.</b> Note: for JQuery as trigger used $(element).trigger(eventName); so if you want to use ES6 modules and JQuery 
                together just redefine the trigger property of BsMultiSelect configuration's environment parameter</p>
            <pre> 
 &lt;script type="module"&gt;
 import Popper from "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/esm/popper.js"
 import {BsMultiSelect} from "https://rawgit.com/DashboardCode/BsMultiSelect/master/dist/js/BsMultiSelect.esm.min.js"
 var languagesElement = document.querySelector('#languages-id');
 var bsMultiSelect = null;
 document.querySelector('#btnAttach').onclick = function(){
    if (!bsMultiSelect){
       var environment = {window, Popper};
       // environment.trigger = (element,eventName) => $(element).trigger(eventName); // use it with JQuery
       bsMultiSelect = BsMultiSelect(languagesElement, environment, /*settings*/null);
    }
 };
 
 document.querySelector('#btnDispose').onclick =
     function() {
         if (bsMultiSelect){
             bsMultiSelect.Dispose();
             bsMultiSelect= null;
         }  
     };
 &lt;/script&gt;
            </pre>
        </div>
        
        

        <script type="module">
            import Popper from "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/esm/popper.js"
            import {BsMultiSelect} from "https://rawgit.com/DashboardCode/BsMultiSelect/master/dist/js/BsMultiSelect.wc.min.js"
            var languagesElement = document.querySelector('#languages-id');
            var bsMultiSelect = null;
            document.querySelector('#btnAttach').onclick = function(){
                if (!bsMultiSelect){
                    var environment = {window, Popper};
                    bsMultiSelect = BsMultiSelect(languagesElement, environment);
                }
            };

            document.querySelector('#btnDispose').onclick =
                function() {
                    if (bsMultiSelect){
                        bsMultiSelect.Dispose();
                        bsMultiSelect= null;
                    }  
                };
        </script>
    </body>
</html>
